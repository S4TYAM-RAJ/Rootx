<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Hack Store
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <style>
   body{font-family: 'Inter', sans-serif;}
  </style>
 </head>
 <body class="bg-gray-50 min-h-screen flex flex-col">
  <!-- LOGIN SECTION -->
  <div class="flex-grow flex items-center justify-center" id="loginSection">
   <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md">
    <h2 class="text-2xl font-semibold text-gray-800 mb-4">
     Login to Store
    </h2>
    <input class="w-full border px-3 py-2 rounded mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500" id="usernameInput" placeholder="Enter your username" type="text"/>
    <p class="text-sm text-gray-600 mb-4">
     Haven't created an account?
     <a class="text-blue-600 underline" href="make.html">
      Make one here
     </a>
    </p>
    <button class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700" id="loginBtn">
     Login
    </button>
    <p class="mt-3 text-red-600 text-sm" id="statusMessage">
    </p>
   </div>
  </div>
  <!-- STORE SECTION -->
  <div class="hidden flex-grow" id="storeSection">
   <header class="bg-white shadow-md p-4 flex justify-between items-center">
    <h1 class="text-2xl font-semibold text-gray-800">
     AnON HACK STORE
    </h1>
    <div class="text-gray-700 font-medium" id="userBalanceDisplay">
    </div>
   </header>
   <main class="max-w-4xl mx-auto px-4 py-8">
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-8">
     <!-- Example Product Card -->
     <div class="bg-white rounded-xl shadow-lg p-6 flex flex-col">
      <div class="overflow-hidden rounded-lg mb-5">
       <img alt="Example Product" class="object-cover w-full h-52 transition-transform duration-300 transform hover:scale-105" src="Product1.png"/>
      </div>
      <h3 class="text-2xl font-semibold text-gray-900 mb-2">
       WIFI HACK
      </h3>
      <p class="text-gray-600 flex-grow mb-4">
      Simple WIFI Brute Force Hacking App Which Tries Multiple Passwords Automatically and shows the right one
      </p>
      <div class="text-gray-500 text-sm mb-4">
       2 WORDLIST FREE WITH THIS APP
      </div>
      <div class="mt-auto flex items-center justify-between">
       <span class="text-xl font-bold text-gray-900">
        &#8377;5 &#128315;
       </span>
       <button class="buy-btn bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded" data-link="https://www.mediafire.com/file/hgt557fj8jjsnjs/BLACKHAT_Wi-Fi_HACK_2.5.0.apk/file" data-price="5" data-title="Premium WIFI HACK TOOL">
        Buy
       </button>
      </div>
     </div>
     
        <div class="bg-white rounded-xl shadow-lg p-6 flex flex-col">
      <div class="overflow-hidden rounded-lg mb-5">
       <img alt="CALL & SMS BOMBER" class="object-cover w-full h-52 transition-transform duration-300 transform hover:scale-105" src="product2.png"/>
      </div>
      <h3 class="text-2xl font-semibold text-gray-900 mb-2">
       CALL & SMS BOMBER
      </h3>
      <p class="text-gray-600 flex-grow mb-4">
       An Multi Options Fast And Working CALL And SMS Bomber
      </p>
      <div class="text-gray-500 text-sm mb-4">
       API Are Always updated and kept to date 
      </div>
      <div class="mt-auto flex items-center justify-between">
       <span class="text-xl font-bold text-gray-900">
        &#8377;10 &#128315;
       </span>
       <button class="buy-btn bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded" data-link="https://www.mediafire.com/file/ostyh5eyqdlropc/B4Bomber_1.2.apk/file" data-price="10" data-title="Mix Bomber">
        Buy
       </button>
      </div>
     </div>
     
        <div class="bg-white rounded-xl shadow-lg p-6 flex flex-col">
      <div class="overflow-hidden rounded-lg mb-5">
       <img alt="Example Product" class="object-cover w-full h-52 transition-transform duration-300 transform hover:scale-105" src="product3.png"/>
      </div>
      <h3 class="text-2xl font-semibold text-gray-900 mb-2">
       YOUTUBE PREMIUM LIFETIME 
      </h3>
      <p class="text-gray-600 flex-grow mb-4">
       This Is an YouTube Premium Apk Which has lifetime access of Youtube premium : -    No ads   || All videos directly downloadable with one click and upto 2040p 
      </p>
      <div class="text-gray-500 text-sm mb-4">
       We Only Sell Verified And trusted Stuff We care for your safety and privacy 
      </div>
      <div class="mt-auto flex items-center justify-between">
       <span class="text-xl font-bold text-gray-900">
      &#8377;15 &#128314;
       </span>
       <button class="buy-btn bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded" data-link="https://www.mediafire.com/file/v0dedmppiu79pef/YouTube+Pro_3.87.apk/file" data-price="15" data-title="YOUTUBE PREMIUM ">
        Buy
       </button>
      </div>
     </div>
     
        <div class="bg-white rounded-xl shadow-lg p-6 flex flex-col">
      <div class="overflow-hidden rounded-lg mb-5">
       <img alt="Example Product" class="object-cover w-full h-52 transition-transform duration-300 transform hover:scale-105" src="product4.png"/>
      </div>
      <h3 class="text-2xl font-semibold text-gray-900 mb-2">
       Whatsapp Ban 
      </h3>
      <p class="text-gray-600 flex-grow mb-4">
       This is an tool which can be used to ban and unban Anyone's Whatsapp 
      </p>
      <div class="text-gray-500 text-sm mb-4">
       Just Select any and enter number and send mail atleast till 3 days and after that confirm BAN
      </div>
      <div class="mt-auto flex items-center justify-between">
       <span class="text-xl font-bold text-gray-900">
        &#8377;15 &#128315;
       </span>
       <button class="buy-btn bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded" data-link="https://www.mediafire.com/file/hbk3d4lng6d3611/BAN-UNBAN.apk/file" data-price="15" data-title="WhatsApp Ban">
        Buy
       </button>
      </div>
     </div>
     
     <div class="bg-white rounded-xl shadow-lg p-6 flex flex-col">
      <div class="overflow-hidden rounded-lg mb-5">
       <img alt="Example Product" class="object-cover w-full h-52 transition-transform duration-300 transform hover:scale-105" src="Whatsapp.png"/>
      </div>
      <h3 class="text-2xl font-semibold text-gray-900 mb-2">
       Whatsapp Ban 2
      </h3>
      <p class="text-gray-600 flex-grow mb-4">
       Second tool which can be used to ban and unban Anyone's Whatsapp 
      </p>
      <div class="text-gray-500 text-sm mb-4">
       Just Select any and enter number and send mail atleast till 3 days and after that confirm BAN
      </div>
      <div class="mt-auto flex items-center justify-between">
       <span class="text-xl font-bold text-gray-900">
        &#8377;5 &#128315;
       </span>
       <button class="buy-btn bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded" data-link="https://www.mediafire.com/file/f8nnrr27cvz4c6b/WHATSAPP+BAN+UNBAN.apk/file" data-price="5" data-title="WhatsApp Ban">
        Buy
       </button>
      </div>
     </div>
     
     <div class="bg-white rounded-xl shadow-lg p-6 flex flex-col">
      <div class="overflow-hidden rounded-lg mb-5">
       <img alt="Example Product" class="object-cover w-full h-52 transition-transform duration-300 transform hover:scale-105" src="product7.png"/>
      </div>
      <h3 class="text-2xl font-semibold text-gray-900 mb-2">
      Netflix Account 
      </h3>
      <p class="text-gray-600 flex-grow mb-4">
       1 Million Bulk Netflix Account 10000+ still working 
      </p>
      <div class="text-gray-500 text-sm mb-4">
       Working NETFLIX ACCOUNT With Pass and email given :- sell,use or do whatever you want fast limited stock only more 2 can be sold
      </div>
      <div class="mt-auto flex items-center justify-between">
       <span class="text-xl font-bold text-gray-900">
        &#8377;50 &#128315;
       </span>
       <button class="buy-btn bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded" data-link="https://www.mediafire.com/file/ftapftqg14b2u94/1609xNetflix%2540m4a1tr_%25281%2529_%25281%2529.txt/file" data-price="50" data-title="NETFLIX ACCOUNTS">
        Buy
       </button>
      </div>
     </div>
     
        <div class="bg-white rounded-xl shadow-lg p-6 flex flex-col">
      <div class="overflow-hidden rounded-lg mb-5">
       <img alt="Ultra Bomber "class="object-cover w-full h-52 transition-transform duration-300 transform hover:scale-105" src="product5.png"/>
      </div>
      <h3 class="text-2xl font-semibold text-gray-900 mb-2">
       Ultra Fast Bomber  
      </h3>
      <p class="text-gray-600 flex-grow mb-4">
       This is an call + Sms + Message Bomber No Limit and Extreme Fast 
      </p>
      <div class="text-gray-500 text-sm mb-4">
       Only For Indian Numbers 
      </div>
      <div class="mt-auto flex items-center justify-between">
       <span class="text-xl font-bold text-gray-900">
        &#8377;49 &#128315;
       </span>
       <button class="buy-btn bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded" data-link="https://www.mediafire.com/file/65zgngonefw6w8l/NITRO_BOMBER.apk/file" data-price="49" data-title="ULTRA FAST BOMBER">
        Buy
       </button>
      </div>
     </div>
     <!-- New Product Card -->
     <div class="bg-white rounded-xl shadow-lg p-6 flex flex-col">
      <div class="overflow-hidden rounded-lg mb-5">
       <img alt="New product showing a sleek modern gadget with metallic finish on a white background" class="object-cover w-full h-52 transition-transform duration-300 transform hover:scale-105" height="400" src="product6.png" width="600"/>
      </div>
      <h3 class="text-2xl font-semibold text-gray-900 mb-2">
       Screen Lock Virus 🦠 
      </h3>
      <p class="text-gray-600 flex-grow mb-4">
       Send To Victim And when they open there phone will be locked only you know the pass - 999 DON'T USE ON YOUR OWN DEVICES 
      </p>
      <div class="text-gray-500 text-sm mb-4">
       Highly rare app limited stock 
      </div>
      <div class="mt-auto flex items-center justify-between">
       <span class="text-xl font-bold text-gray-900">
        &#8377;39 &#128315;
       </span>
       <button class="buy-btn bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded" data-link="https://www.mediafire.com/file/b35p14c8gjqufto/PHONE_L9CK_VIRUS.apk/file" data-price="39" data-title="Phone L0çK Virus">
        Buy
       </button>
      </div>
     </div>
    </div>
   </main>
  </div>
  <!-- CONFIRMATION MODAL -->
  <div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center p-4" id="confirmModal">
   <div class="bg-white rounded-lg max-w-md w-full p-6 relative shadow-lg">
    <button class="absolute top-3 right-3 text-gray-500 hover:text-gray-700" id="closeConfirm">
     ×
    </button>
    <h3 class="text-xl font-semibold mb-4">
     Confirm Purchase
    </h3>
    <p class="mb-6">
     You are about to buy
     <span class="font-semibold" id="confirmProductTitle">
     </span>
     .
     <br/>
     This product will be automatically given to you after successful payment. Max time: 10 seconds.
     <br/>
     If you didn't receive the product, contact
     <span class="text-blue-600">
      anonymouswindia@gmail.com
     </span>
     .
    </p>
    <div class="flex justify-end space-x-3">
     <button class="px-4 py-2 rounded-md border" id="cancelPurchase">
      Cancel
     </button>
     <button class="px-4 py-2 rounded-md bg-blue-600 text-white" id="confirmPurchase">
      Confirm
     </button>
    </div>
    <p class="mt-4 text-red-600 text-sm" id="purchaseError">
    </p>
   </div>
  </div>
  <!-- SUCCESS MODAL -->
  <div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center p-4" id="successModal">
   <div class="bg-white rounded-lg max-w-md w-full p-6 shadow-lg">
    <h3 class="text-xl font-semibold mb-4">
     Payment Successful
    </h3>
    <p class="mb-6">
     Redirecting you to your product...
    </p>
    <div class="flex justify-center">
     <div class="animate-spin rounded-full h-10 w-10 border-t-2 border-blue-600">
     </div>
    </div>
   </div>
  </div>
  
 <script>
   const BIN_ID = "689860dfae596e708fc68e5c";
   const MASTER_KEY = "$2a$10$5TyPwxtO8pS6G5qBROpTx.PX3NTZx3bg/W6cnelH2J5Qzyfz27ZA.";

   let users = [];
   let currentUser = null;

   async function fetchUsersFromBin() {
     try {
       const res = await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}/latest`, {
         headers: { "X-Master-Key": MASTER_KEY }
       });
       const data = await res.json();
       return data.record.users || [];
     } catch (e) {
       console.error("Failed to load user data:", e);
       return [];
     }
   }

   async function saveUsersToBin(users) {
     return fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}`, {
       method: "PUT",
       headers: {
         "Content-Type": "application/json",
         "X-Master-Key": MASTER_KEY,
         "X-Bin-Private": "false"
       },
       body: JSON.stringify({ users })
     });
   }

   // Auto-login check
   window.addEventListener("DOMContentLoaded", async () => {
     const savedUsername = localStorage.getItem("loggedInUser");
     if (savedUsername) {
       users = await fetchUsersFromBin();
       const found = users.find(u => u.username === savedUsername);
       if (found) {
         currentUser = found;
         document.getElementById("userBalanceDisplay").textContent = `₹${currentUser.balance}`;
         document.getElementById("loginSection").classList.add("hidden");
         document.getElementById("storeSection").classList.remove("hidden");
       }
     }
   });

   // LOGIN
   document.getElementById("loginBtn").addEventListener("click", async () => {
     const username = document.getElementById("usernameInput").value.trim();
     const statusMsg = document.getElementById("statusMessage");
     if (!username) {
       statusMsg.textContent = "Enter your username.";
       return;
     }
     statusMsg.textContent = "Checking...";
     users = await fetchUsersFromBin();
     const found = users.find(u => u.username === username);
     if (found) {
       currentUser = found;
       localStorage.setItem("loggedInUser", username);
       document.getElementById("userBalanceDisplay").textContent = `₹${currentUser.balance}`;
       document.getElementById("loginSection").classList.add("hidden");
       document.getElementById("storeSection").classList.remove("hidden");
     } else {
       statusMsg.textContent = "Username not found.";
     }
   });

   // PURCHASE FLOW
   let selectedProduct = null;

   function attachBuyButtonListeners() {
     document.querySelectorAll(".buy-btn").forEach(btn => {
       btn.removeEventListener("click", buyBtnClickHandler);
       btn.addEventListener("click", buyBtnClickHandler);
     });
   }

   function buyBtnClickHandler(e) {
     const btn = e.currentTarget;
     selectedProduct = {
       title: btn.dataset.title,
       price: parseFloat(btn.dataset.price),
       link: btn.dataset.link
     };
     document.getElementById("confirmProductTitle").textContent = selectedProduct.title;
     document.getElementById("confirmModal").classList.remove("hidden");
     document.getElementById("confirmModal").classList.add("flex");
     document.getElementById("purchaseError").textContent = "";
   }

   attachBuyButtonListeners();

   document.getElementById("closeConfirm").addEventListener("click", () => {
     document.getElementById("confirmModal").classList.add("hidden");
   });
   document.getElementById("cancelPurchase").addEventListener("click", () => {
     document.getElementById("confirmModal").classList.add("hidden");
   });

   document.getElementById("confirmPurchase").addEventListener("click", async () => {
     if (!currentUser) return;
     if (currentUser.balance < selectedProduct.price) {
       document.getElementById("purchaseError").textContent = "Insufficient balance.";
       return;
     }

     // Deduct locally
     currentUser.balance -= selectedProduct.price;

     // Update in users array
     const idx = users.findIndex(u => u.username === currentUser.username);
     if (idx > -1) users[idx] = currentUser;

     // Save to JSONBin
     await saveUsersToBin(users);

     // ✅ Update UI immediately
     document.getElementById("userBalanceDisplay").textContent = `₹${currentUser.balance}`;

     // Show success modal
     document.getElementById("confirmModal").classList.add("hidden");
     document.getElementById("successModal").classList.remove("hidden");
     document.getElementById("successModal").classList.add("flex");

     setTimeout(() => {
       window.location.href = selectedProduct.link;
     }, 3000);
   });
</script>
 
 </body>
</html>
